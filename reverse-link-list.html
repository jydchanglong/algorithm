<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      function createLinkList(arr) {
        const length = arr.length;
        let curNode = {
          value: arr[length - 1],
        };
        if (length === 1) {
          return curNode;
        }
        for (let i = length - 2; i >= 0; i--) {
          curNode = {
            value: arr[i],
            next: curNode,
          };
        }

        return curNode;
      }

      function reverseLinkList(listNode) {
        let curNode = undefined;
        let nextNode = listNode;
        let preNode = undefined;

        while (nextNode) {
          // 删除第一个节点的 next
          if (curNode && !preNode) {
            delete curNode.next;
          }
          // 反转
          if (curNode && preNode) {
            curNode.next = preNode;
          }
          // 三个指针向后移动
          preNode = curNode;
          curNode = nextNode;
          nextNode = nextNode.next;
        }

        // 最后一个指针指向前一个节点
        curNode.next = preNode;

        return curNode;
      }

      const arr = [100, 200, 300, 400, 500];
      const linkList = createLinkList(arr);
      console.log(linkList);
      const reverseLink = reverseLinkList(linkList);
      console.log(reverseLink);
    </script>
  </body>
</html>
